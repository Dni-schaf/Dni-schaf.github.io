<!DOCTYPE html>
<html>

<head>
  <title>World Map</title>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/topojson.v2.min.js"></script>
  <script src="../resources/js/coordinates.js"></script>
  <script src="../resources/js/iceshelf_Data.js"></script>
  
  <link rel="stylesheet" href="../resources/css/map.css">
  
</head>

<body>

  <div id="test" style="position: fixed; top: 50px; left: 0px; height: 50px; width: 50px; z-index: 10;"></div>

  <div id="scrollbox">
    <div id="map"></div>
    <div id="grid"></div>
    <div id="path"></div>
    <div id="text">scroll</div>  
  </div>

  <div id="chapter1" style="position: absolute; top: 101vh; width: 100%; height: 30%; background-color: aquamarine;">
  </div>
  <div id="chapter3" style="position: fixed; top: 110vh; width: 100%; height: 30%; background-color: aquamarine;">
  </div>
  

 <script src="../resources/js/map.js" ></script>  

 <script>

const chapter3date = -1868986921.0084033;

window.addEventListener('scroll', function() {
        // Berechne den aktuellen Wert von currenttime basierend auf dem Scrollen
        
        
        if (currenttime >= chapter3date) {
          // Ändere die Position auf absolute und setze top auf die aktuelle Scrollposition + 100vh
          if (chapter3.style.position !== "absolute") {
            chapter3.style.position = "absolute";
            chapter3.style.top = (window.scrollY + window.innerHeight) + "px";
          }
        } else {
          // Ändere die Position zurück auf fixed
          if (chapter3.style.position !== "fixed") {
            chapter3.style.position = "fixed";
            chapter3.style.top = "110vh";
          }
        }
      });

const chapter1 = document.getElementById("chapter1");
const chapter3 = document.getElementById("chapter3");


const scrollboxdiv = document.getElementById("test");

      // IntersectionObserver für chapter3
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            scrollboxdiv.style.backgroundColor = "red"; // Hintergrundfarbe ändern
          } else {
            scrollboxdiv.style.backgroundColor = "white"; // Hintergrundfarbe zurücksetzen
          }
        });
      }, { threshold: [0] });

      // chapter3-Element beobachten
      observer.observe(chapter1);
      observer.observe(chapter3);


 </script>
</body>

</html>